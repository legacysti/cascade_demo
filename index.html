<!--
/**
*Name: index.html
*Description: Home page for cascade demo app
*@Authors:
*Matthew Ong
*@Since: 08/31/16
**/
-->

<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="main.js"></script>
        <link rel="stylesheet" type="text/css" href="cal_Style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    </head>

    <header>
        <h1>A/C and Heater Usage in June 2016</h1>
    </header>
    <div class="row">
        <button onclick="exeForecast()">Click To Get Data</button>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class ="col">
                <div class="box"><b id="day1"> </b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day2"> </b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day3"> </b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day4"> </b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day5"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day6"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day7"></b></div>
            </div>
        </div>
        <div class="row">
            <div class ="col">
                <div class="box"><b id="day8"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day9"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day10"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day11"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day12"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day13"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day14"></b></div>
            </div>
        </div>
        <div class="row">
            <div class ="col">
                <div class="box"><b id="day15"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day16"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day17"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day18"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day19"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day20"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day21"></b></div>
            </div>
        </div>
        <div class="row">
            <div class ="col">
                <div class="box"><b id="day22"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day23"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day24"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day25"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day26"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day27"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day28"></b></div>
            </div>
        </div>
        <div class="row">
            <div class ="col">
                <div class="box"><b id="day29"></b></div>
            </div>
            <div class ="col">
                <div class="box"><b id="day30"></b></div>
            </div>
        </div>
    </div>

    <body>

        <!-- <p id="ac">AC switches:</p>
        <p id="heater"> Heater switches: </p> -->

    </body>
    <!-- <script>
        var dateArr = [];
        var acArr = [];
        var heatArr = [];
        function main(){
            getData();
            displayData();
        }
        function getData(){

            var apiKey = 'f33d413250b6d07e6fa54b0a0d1bd5fa';
            var url = 'https://api.forecast.io/forecast/';
            var lati = 45.5898;
            var longi = -122.5951;
            var year = "2016";
            var month = "06";
            var day = "00";
            //var data;
            var acOn = 0;
            var heaterOn = 0;
            //var resultJson;

            for (j = 0; j < 30; j++){//for each day
                if (j>1){

                }
                //console.log("day before: "+day);
                //increment day
                day = incString(day);
                //console.log("day of: "+ day);
                //call api to GET json
                $.getJSON(url + apiKey + "/" + lati + "," + longi + "," +year+"-"+month+"-"+day+"T00:00:00" +"?callback=?", function(data) {
                  //console.log(data);
                  //resultJson = data;

                  //iterate through JSON to find the temperatures of every hour for the day
                    for (i = 0; i < data.hourly.data.length; i++){
                        if (data.hourly.data[i].temperature > 75){
                            acOn = acOn+1;
                        }
                        else if (data.hourly.data[i].temperature < 62) {
                            heaterOn = heaterOn+1;
                        }
                    }
                        //push all data to arrays for later use
                        dateArr.push(year+"-"+month+"-"+day);
                        $('#ac').html('and the ac was turned on ' + acOn + " times.");
                        console.log("ac "+acOn);
                        acArr.push(acOn);
                        $('#heater').html('and the heater was turned on ' + heaterOn + " times.");
                        console.log("heater "+heaterOn);
                        heatArr.push(heaterOn);

                        //reset ac and heater counters
                        acOn = 0;
                        heaterOn = 0;
                      //console.log(day + ": ac: "+acArr[j]+", heat: "+heatArr[j]);
                      //console.log(dateArr[1] + ": ac: "+acArr[1]+", heat: "+heatArr[1]);
                });
            }
        }

        function displayData(){
            for(x=1; x <= 30; x++){
                document.getElementById("day"+x.toString()).innerHTML = x +"<br>"+ "A/C: "+x+ "<br>"+"Heater: "+x;//test
                //document.getElementById("day"+x.toString()).innerHTML = dateArr[x-1] +"<br>"+ "A/C: "+acArr[x-1]+ "<br>"+"Heater: "+heatArr[x-1];
            }

        }

        function incString(string){
            var num = Number(string);
            num++;
            var str = num.toString();
            if(str.length < 2){
                return "0"+str;
            }
            else{
                return str;
            }
        }
        /**
        var resultJson = '{'+ '"results"'+'[{'+
            '"date" : "'+year+'-'+month+'-'+day+'"'+','+
            '"ACswitches" : "'+acOn+','+
            '"heaterSwitches" : "'+heaterOn+
            '},'+
        ']}}';
        **/

    </script> -->
</html>
